---
title: "Remix 3 ç™ºè¡¨ã¾ã¨ã‚ - React ã‚’æ¨ã¦ã€Webæ¨™æº–ã§æ–°ã—ã„ä¸–ç•Œã¸"
emoji: "ğŸ’¿ï¸"
type: "tech"
topics: ["remix", "react", "typescript", "web", "javascript"]
published: true
---

## ã¯ã˜ã‚ã«

2025å¹´10æœˆ10æ—¥ã€ã‚«ãƒŠãƒ€ã®ãƒˆãƒ­ãƒ³ãƒˆã§é–‹å‚¬ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆ "Remix Jam 2025" ã§ Ryan Florence ã¨ Michael Jackson ãŒ **Remix 3** ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€‚ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ã€React Router ã®ç”Ÿã¿ã®è¦ªãŸã¡ãŒã€ãªãœ React ã‹ã‚‰é›¢ã‚Œã€ç‹¬è‡ªã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚‹ã“ã¨ã«ã—ãŸã®ã‹ã€ãã®ç†ç”±ã¨æ–°ã—ã„ãƒ“ã‚¸ãƒ§ãƒ³ã‚’èªã£ãŸæ­´å²çš„ãªç™ºè¡¨ã§ã™ã€‚

https://www.youtube.com/live/xt_iEOn2a6Y?t=11764s

æœ¬è¨˜äº‹ã§ã¯ã€1æ™‚é–“47åˆ†ã«åŠã¶ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å†…å®¹ã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

:::message alert
**æ³¨æ„äº‹é …**

- ã“ã®è¨˜äº‹ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã®éŸ³å£°ã‚’ AI ã§æ–‡å­—èµ·ã“ã—ã—ã€ãã®å†…å®¹ã‚’ã‚‚ã¨ã« AI ã‚’æ´»ç”¨ã—ã¦åŸ·ç­†ã—ã¦ã„ã¾ã™
- è¨˜äº‹å†…ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã®èª¬æ˜ã‚’ã‚‚ã¨ã«å†æ§‹æˆã—ãŸã‚‚ã®ã§ã™ãŒã€å®Ÿéš›ã®å‹•ä½œç¢ºèªã¯ã¾ã è¡Œãˆã¦ã„ã¾ã›ã‚“
- Remix 3 ã¯ç¾åœ¨ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ®µéšã®ãŸã‚ã€å®Ÿéš›ã® API ã‚„ä»•æ§˜ã¯å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- ã‚³ãƒ¼ãƒ‰ã®æ­£ç¢ºæ€§ã«ã¤ã„ã¦ã¯ã€è¿½ã£ã¦ç¢ºèªãƒ»ä¿®æ­£ã™ã‚‹äºˆå®šã§ã™
- ã‚ˆã‚Šæ­£ç¢ºãªæƒ…å ±ã«ã¤ã„ã¦ã¯ã€ä¸Šè¨˜ã®å‹•ç”»ã‚’ç›´æ¥ã”ç¢ºèªãã ã•ã„
:::

:::message
ã“ã®è¨˜äº‹ã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‰åŠéƒ¨åˆ†ï¼ˆPart 1ï¼‰ã®ã¿ã‚’æ‰±ã„ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–¢é€£ã®å†…å®¹ã¯ Part 2 ã§èªã‚‰ã‚Œã¾ã—ãŸã€‚
:::

## ãªãœ Remix 3 ã‚’ä½œã‚‹ã®ã‹

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:17:30~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=11850s)

### React ã¸ã®æ„Ÿè¬ã¨æ±ºåˆ¥

Michael Jackson ã¨ Ryan Florence ã¯ã€React ã«å¯¾ã—ã¦æ·±ã„æ•¬æ„ã‚’æŒã£ã¦ã„ã¾ã™ã€‚React ã¯å½¼ã‚‰ã®ã‚­ãƒ£ãƒªã‚¢ã‚’å¤‰ãˆã€Web é–‹ç™ºã®è€ƒãˆæ–¹ã‚’ä¸€å¤‰ã•ã›ã¾ã—ãŸã€‚React Router ã‚’10å¹´ä»¥ä¸Šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã€Shopify ã®ã‚ˆã†ãªå¤§ä¼æ¥­ãŒãã‚Œã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€ã“ã“1ã€œ2å¹´ã€å½¼ã‚‰ã¯ React ã®æ–¹å‘æ€§ã«é•å’Œæ„Ÿã‚’æ„Ÿã˜ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

> ã€Œåƒ•ã‚‰ã¯ã‚‚ã†ã€React ãŒã©ã“ã«å‘ã‹ã£ã¦ã„ã‚‹ã®ã‹åˆ†ã‹ã‚‰ãªããªã£ã¦ããŸã€- Michael Jackson

### ç¾ä»£ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®è¤‡é›‘ã•

Ryan ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®è¤‡é›‘ã•ã«ã¤ã„ã¦ç‡ç›´ã«èªã‚Šã¾ã™ï¼š

> ã€Œæ­£ç›´è¨€ã£ã¦ã€å…¨ä½“åƒã‚’æŠŠæ¡ã§ããªããªã£ã¦ããŸã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã¨ã—ã¦ã€è‡ªåˆ†ã§ã‚‚ä½•ãŒèµ·ãã¦ã„ã‚‹ã®ã‹åˆ†ã‹ã‚‰ãªã„æ™‚ãŒã‚ã‚‹ã€- Ryan Florence

å½¼ã‚‰ã¯ã€ã“ã®çŠ¶æ³ã‚’ã€Œå±±ã‚’ç™»ã‚‹ã€æ¯”å–©ã§è¡¨ç¾ã—ã¦ã„ã¾ã™ï¼š

> ã€Œåƒ•ã‚‰ã¯ã“ã®å±±ã‚’ç™»ã£ã¦ãã¦ã€é ‚ä¸Šã§ã‚­ãƒ£ãƒ³ãƒ—ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã€‚ã§ã‚‚ã€ç™»ã£ã¦ããŸãŠã‹ã’ã§è¦–é‡ãŒåºƒãŒã‚Šã€åˆ¥ã®å±±ãŒè¦‹ãˆã¦ããŸã€‚ã‚‚ã£ã¨ã‚·ãƒ³ãƒ—ãƒ«ãªå±±ãŒã€‚ã ã‹ã‚‰ã€ã“ã®å±±ã‚’ä¸‹ã‚Šã¦ã€ã‚ã£ã¡ã®å±±ã«ç™»ã‚Šç›´ã™ã“ã¨ã«ã—ãŸã€- Ryan Florence

### Web ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é€²åŒ–

Node.js ã¯16æ­³ã€React ã¯12ã€œ13æ­³ã§ã™ã€‚ãã®é–“ã« Web ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯å¤§ããé€²åŒ–ã—ã¾ã—ãŸï¼š

- **ES Modules**: ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹
- **TypeScript**: å‹ã«ã‚ˆã‚‹é–‹ç™ºä½“é¨“ã®å‘ä¸Š
- **Service Workers**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§
- **Web Streams**: Node.js ã«ã‚‚æ¨™æº–ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒ
- **Fetch API**: Node.js ã§ã‚‚ä½¿ãˆã‚‹
- **Web Crypto**: æš—å·åŒ–æ©Ÿèƒ½ãŒæ¨™æº–ã«

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:22:45~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=12165s)

### AI æ™‚ä»£ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

Ryan ã¯ã€AI æ™‚ä»£ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«å¿…è¦ãªè¦ç´ ã«ã¤ã„ã¦èªã‚Šã¾ã™ï¼š

- **å®‰å®šã—ãŸ URL**: LLM ãŒã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã€URL ã¯å¸¸ã«åŒã˜ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒ¼ãƒ‰**: AI ãŒç”Ÿæˆãƒ»ç†è§£ã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰
- **ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¸ã®ä¾å­˜ã‚’æ¸›ã‚‰ã™**: ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ãŒãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ä¾å­˜ã—ãªã„

React ã® `use server` ã§ã¯ã€RPC é–¢æ•°ã® URL ãŒãƒ“ãƒ«ãƒ‰ã”ã¨ã«å¤‰ã‚ã£ã¦ã—ã¾ã†ãŸã‚ã€AI ãŒãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå›°é›£ã§ã™ã€‚

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:19:34~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=11974s)

## Remix 3 ã®æ ¸å¿ƒã‚¢ã‚¤ãƒ‡ã‚¢

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚³ãƒ¼ãƒ— (Setup Scope)

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:50:03~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=13803s)

Remix 3 ã®æœ€ã‚‚é©æ–°çš„ãªæ¦‚å¿µãŒ **Setup Scopeï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚³ãƒ¼ãƒ—ï¼‰** ã§ã™ã€‚

```javascript
import { events } from "@remix-run/events"
import { tempo } from "./01-intro/tempo"
import { createRoot, type Remix } from "@remix-run/dom"

function App(this: Remix.Handle) {
  // ã“ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯1å›ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚³ãƒ¼ãƒ—ï¼‰
  let bpm = 60;

  // ãƒ¬ãƒ³ãƒ€ãƒ¼é–¢æ•°ã‚’è¿”ã™
  return () => (
    <button
      on={tempo((event) => {
        bpm = event.detail
        this.update()
      })}
    >
      BPM: {bpm}
    </button>
  );
};

createRoot(document.body).render(<App />)
```

é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š

1. **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒ¼ãƒ‰ã¯1å›ã ã‘å®Ÿè¡Œã•ã‚Œã‚‹**
2. **çŠ¶æ…‹ã¯ JavaScript ã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«ä¿å­˜ã•ã‚Œã‚‹**ï¼ˆRemix ã®ç‰¹åˆ¥ãªæ©Ÿèƒ½ã§ã¯ãªã„ï¼‰
3. **å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ `this.update()` ã‚’æ˜ç¤ºçš„ã«å‘¼ã¶**

> ã€Œãƒœã‚¿ãƒ³ã¯ã©ã†ã‚„ã£ã¦ BPM ãŒå¤‰ã‚ã£ãŸã“ã¨ã‚’çŸ¥ã‚‹ã®ï¼Ÿ **çŸ¥ã‚‰ãªã„**ã€‚ãã‚ŒãŒ Remix 3 ã®ç´ æ™´ã‚‰ã—ã„ã¨ã“ã‚ã€‚ã“ã‚Œã¯ãŸã ã® JavaScript ã‚¹ã‚³ãƒ¼ãƒ—ã€‚å›ãŒ `update()` ã‚’å‘¼ã‚“ã æ™‚ã ã‘ã€ãƒ¬ãƒ³ãƒ€ãƒ¼é–¢æ•°ã‚’å†å®Ÿè¡Œã™ã‚‹ã€- Ryan Florence

### Remix Events: ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç¬¬ä¸€ç´šå¸‚æ°‘ã«

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:34:50~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=12890s)

Remix 3 ã§ã¯ã€**ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã®æŠ½è±¡åŒ–**ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚

#### `click` ã‚¤ãƒ™ãƒ³ãƒˆã®è¤‡é›‘ã•

Ryan ã¯ã€`click` ã‚¤ãƒ™ãƒ³ãƒˆã®è¤‡é›‘ã•ã‚’èª¬æ˜ã—ã¾ã™ï¼š

- ãƒã‚¦ã‚¹ãƒ€ã‚¦ãƒ³ + ãƒã‚¦ã‚¹ã‚¢ãƒƒãƒ—ï¼ˆåŒã˜è¦ç´ ä¸Šï¼‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã® Space ãƒ€ã‚¦ãƒ³ + Space ã‚¢ãƒƒãƒ—ï¼ˆEscape ãªã—ï¼‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã® Enter ãƒ€ã‚¦ãƒ³ï¼ˆå³åº§ã«ã‚¯ãƒªãƒƒã‚¯ + ãƒªãƒ”ãƒ¼ãƒˆï¼‰
- ã‚¿ãƒƒãƒã‚¹ã‚¿ãƒ¼ãƒˆ + ã‚¿ãƒƒãƒã‚¢ãƒƒãƒ—ï¼ˆã‚¹ãƒ¯ã‚¤ãƒ—ãªã—ï¼‰

ã“ã‚Œã‚‰ã™ã¹ã¦ãŒ `click` ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚

#### ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®ä½œæˆ

Remix Events ã‚’ä½¿ã†ã¨ã€ç‹¬è‡ªã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã¾ã™ï¼š

```javascript
import { createInteraction, events } from "@remix-run/events"
import { pressDown } from "@remix-run/events/press"

export const tempo = createInteraction<HTMLElement, number>(
  "rmx:tempo",
  ({ target, dispatch }) => {
    let taps: number[] = []
    let resetTimer: number = 0

    function handleTap() {
      clearTimeout(resetTimer)
      taps.push(Date.now())
      taps = taps.filter((tap) => Date.now() - tap < 4000)
      if (taps.length >= 4) {
        let intervals = [];
        for (let i = 1; i < taps.length; i++) {
          intervals.push(taps[i] - taps[i - 1])
        }
        let bpm = intervals.map(
          (interval) => 60000 / interval
        )
        let avgTempo = Math.round(
          bpm.reduce((sum, value) => sum + value, 0) /
            bpm.length
        )
        dispatch({ detail: avgTempo })
      }
      resetTimer = window.setTimeout(() => {
        taps = []
      }, 4000)
    }

    return events(target, [pressDown(handleTap)])
  }
)
```

ä½¿ã„æ–¹ï¼š

```javascript
<button on={tempo((event) => {
  bpm = event.detail
  this.update();
})}>
  BPM: {bpm}
</button>
```

> ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦ç´ ã«å¯¾ã™ã‚‹æŠ½è±¡åŒ–ã§ã‚ã‚‹ã‚ˆã†ã«ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã¯ã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾ã™ã‚‹æŠ½è±¡åŒ–ã ã€- Ryan Florence

![Remix Events ã®æ¦‚å¿µå›³](/images/remix3-introduction/remix-events-concept.png)
*å›³: Components are to elements as custom interactions are to events*

### Context API: å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å¼•ãèµ·ã“ã•ãªã„

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (4:07:36~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=14856s)

Remix 3 ã® Context API ã¯ã€React ã¨ã¯æ ¹æœ¬çš„ã«ç•°ãªã‚Šã¾ã™ã€‚

```typescript
// ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›
function App(this: RemixHandle<{ drummer: Drummer }>) {
  const drummer = new Drummer();

  // ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚»ãƒƒãƒˆï¼ˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ç™ºç”Ÿã—ãªã„ï¼‰
  this.context.set({ drummer });

  return function render() {
    return <DrumMachine />;
  };
}

// ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
function TempoDisplay(this: RemixHandle) {
  // å‹å®‰å…¨ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
  const drummer = this.context.get(App).drummer;

  // drummer ã®å¤‰æ›´ã‚’è³¼èª­
  drummer.addEventListener('change', this.update);

  return function render() {
    return <div>{drummer.bpm} BPM</div>;
  };
}
```

é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š

1. **`context.set()` ã¯å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å¼•ãèµ·ã“ã•ãªã„**
2. **`context.get(Component)` ã§ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ç›´æ¥å‚ç…§**ï¼ˆ"Go to Definition" ãŒåŠ¹ãï¼ï¼‰
3. **å‹å®‰å…¨**: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹ã‹ã‚‰è‡ªå‹•æ¨è«–

![Context API ã®å®Ÿè£…](/images/remix3-introduction/context-api-implementation.png)
*å›³: Go to Definition ã§ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã«ç›´æ¥ã‚¸ãƒ£ãƒ³ãƒ—ã§ãã‚‹*

### Signal: éåŒæœŸå‡¦ç†ã®ç®¡ç†

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (4:32:50~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=16370s)

Remix 3 ã«ã¯é‡è¦ãªåŸå‰‡ãŒã‚ã‚Šã¾ã™ï¼š

> ã€Œé–¢æ•°ã‚’æ¸¡ã—ãŸã‚‰ã€signal ã‚’è¿”ã™ã€

ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«ã¯è‡ªå‹•çš„ã« `signal` ãŒæ¸¡ã•ã‚Œã¾ã™ï¼ˆ`AbortController` ã® signalï¼‰ï¼š

```javascript
<select
  on:change={async (event, signal) => {
    state = 'loading';
    this.update();

    // signal ã‚’ fetch ã«æ¸¡ã™
    const response = await fetch(`/api/cities?state=${event.target.value}`, {
      signal
    });

    // å¤ã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯è‡ªå‹•çš„ã«ä¸­æ–­ã•ã‚Œã‚‹
    if (signal.aborted) return;

    cities = await response.json();
    state = 'loaded';
    this.update();
  }}
>
```

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€£ç¶šã—ã¦ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ã¨ï¼š

1. å¤ã„ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã® signal ãŒ abort ã•ã‚Œã‚‹
2. `fetch()` ãŒè‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹
3. `signal.aborted` ãƒã‚§ãƒƒã‚¯ã§å¤ã„å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—

![Signal ã§ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’è§£æ±º](/images/remix3-introduction/signal-race-condition-solved.png)
*å›³: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§å¤ã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¦ã„ã‚‹æ§˜å­*

ã“ã‚Œã«ã‚ˆã‚Šã€**ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’æ‰‹å‹•ã§ã€ã—ã‹ã—ã‚·ãƒ³ãƒ—ãƒ«ã«è§£æ±º**ã§ãã¾ã™ã€‚

## å®Ÿéš›ã®ãƒ‡ãƒ¢ã‹ã‚‰å­¦ã¶

### ãƒ‡ãƒ¢1: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒª

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:29:03~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=12543s)

æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚

```javascript
// ãƒ—ãƒ¬ãƒ¼ãƒ³ãª DOM API ã‹ã‚‰å§‹ã‚ã‚‹
const button = document.createElement('button')
let count = 0

button.textContent = `Count: ${count}`
button.onclick = () => {
  count++
  button.textContent = `Count: ${count}`
};
```

ã“ã‚Œã‚’ Remix 3 ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ï¼š

```javascript
function Counter(this: RemixHandle) {
  let count = 0;

  return function render() {
    return (
      <button
        on:click={() => {
          count++
          this.update()
        }}
      >
        Count: {count}
      </button>
    );
  };
}
```

> ã€Œå±±ã‚’ä¸‹ã‚Šã¦ã„ã‚‹ã‚“ã ã€‚ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã¯ä½•ãŒã‚ã‚‹ï¼Ÿã€- Ryan Florence

![ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¢ãƒ—ãƒª](/images/remix3-introduction/counter-demo.png)
*å›³: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å®Ÿè£…*

### ãƒ‡ãƒ¢2: BPM (Tempo Tapper) ã‚¢ãƒ—ãƒª

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:33:02~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=12782s)

ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ BPMï¼ˆãƒ†ãƒ³ãƒï¼‰ã‚’è¨ˆç®—ã™ã‚‹ã‚¢ãƒ—ãƒªã§ã™ã€‚

```javascript
function TempoTapper(this: RemixHandle) {
  let bpm = 60;

  return function render() {
    return (
      <button
        on:tempo={(e) => {
          bpm = e.detail;
          this.update();
        }}
      >
        {bpm} BPM
      </button>
    );
  };
}
```

`tempo` ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãŒã€è¤‡é›‘ãªã‚¿ãƒƒãƒ—è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯çµæœã‚’å—ã‘å–ã‚‹ã ã‘ã§ã™ã€‚

![BPMè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯](/images/remix3-introduction/bpm-calculation.png)
*å›³: ã‚¿ãƒƒãƒ—é–“éš”ã‚’è¨ˆç®—ã—ã¦å¹³å‡BPMã‚’ç®—å‡º*

### ãƒ‡ãƒ¢3: ãƒ‰ãƒ©ãƒ ãƒã‚·ãƒ³

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:56:02~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=14162s)

å®Œå…¨ãªãƒ‰ãƒ©ãƒ ãƒã‚·ãƒ³ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

ä¸»ãªæ©Ÿèƒ½ï¼š

- Play/Stop ãƒœã‚¿ãƒ³
- ãƒ†ãƒ³ãƒèª¿æ•´ï¼ˆBPMï¼‰
- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ï¼ˆéŸ³é‡è¡¨ç¤ºï¼‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼ˆSpace: å†ç”Ÿ/åœæ­¢ã€Arrow Up/Down: ãƒ†ãƒ³ãƒå¤‰æ›´ï¼‰

#### Drummer ã‚¯ãƒ©ã‚¹ï¼ˆAI ãŒç”Ÿæˆï¼‰

```javascript
class Drummer extends EventTarget {
  #bpm = 90;

  play(bpm) {
    this.#bpm = bpm;
    // ãƒ‰ãƒ©ãƒ ã‚µã‚¦ãƒ³ãƒ‰ã‚’å†ç”Ÿ...
    this.dispatchEvent(new CustomEvent('change'));
  }

  stop() {
    // å†ç”Ÿã‚’åœæ­¢...
    this.dispatchEvent(new CustomEvent('change'));
  }

  set bpm(value) {
    this.#bpm = value;
    this.dispatchEvent(new CustomEvent('change'));
  }

  get bpm() {
    return this.#bpm;
  }
}
```

> ã€ŒCursor ã«ã€ã‚­ãƒƒã‚¯ã€ã‚¹ãƒã‚¢ã€ãƒã‚¤ãƒãƒƒãƒˆã‚’æŒã£ãŸãƒ‰ãƒ©ãƒãƒ¼ã‚’ä½œã£ã¦ã€ã£ã¦é ¼ã‚“ã ã‚‰ã€ã“ã„ã¤ãŒåãå‡ºã—ã¦ãã‚ŒãŸã€‚æœ€é«˜ã ã‚ï¼Ÿã€- Ryan Florence

#### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®çµ±åˆ

```javascript
import { space, arrowUp, arrowDown } from '@remix/events';

function App(this: RemixHandle) {
  const drummer = new Drummer();

  return function render() {
    return (
      <div
        on:window={[
          [space, () => drummer.toggle()],
          [arrowUp, () => drummer.bpm += 5],
          [arrowDown, () => drummer.bpm -= 5],
        ]}
      >
        <DrumMachine />
      </div>
    );
  };
}
```

`window` ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã®ã«ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã®ã‚³ãƒ¼ãƒ‰ã¨å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚

![ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ](/images/remix3-introduction/keyboard-shortcuts.png)
*å›³: Spaceã€Arrow Up/Down ã§ãƒ‰ãƒ©ãƒ ãƒã‚·ãƒ³ã‚’æ“ä½œ*

### ãƒ‡ãƒ¢4: ãƒ•ã‚©ãƒ¼ãƒ ã¨éåŒæœŸå‡¦ç†

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (4:27:24~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=16044s)

å·ã‚’é¸æŠã™ã‚‹ã¨ã€ãã®å·ã®éƒ½å¸‚ãƒªã‚¹ãƒˆã‚’ fetch ã™ã‚‹å…¸å‹çš„ãª UI ã§ã™ã€‚

```javascript
function CitySelector(this: RemixHandle) {
  let state = 'idle';
  let cities = [];

  return function render() {
    return (
      <form>
        <select
          on:change={async (event, signal) => {
            state = 'loading';
            this.update();

            const response = await fetch(
              `/api/cities?state=${event.target.value}`,
              { signal }
            );

            if (signal.aborted) return;

            cities = await response.json();
            state = 'loaded';
            this.update();
          }}
        >
          <option>Alabama</option>
          <option>Alaska</option>
          {/* ... */}
        </select>

        <select disabled={state === 'loading'}>
          {cities.map(city => (
            <option>{city}</option>
          ))}
        </select>
      </form>
    );
  };
}
```

> ã€Œã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰è€ƒãˆå§‹ã‚ã‚‹ã€‚ãã‚ŒãŒåƒ•ã®ã‚„ã‚Šæ–¹ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœ€åˆã®ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’å¤‰æ›´ã—ãŸ â†’ ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã«ã™ã‚‹ â†’ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾— â†’ ãƒ­ãƒ¼ãƒ‰å®Œäº†ã€‚ã“ã‚ŒãŒä¸€ç•ªè‡ªç„¶ãªè€ƒãˆæ–¹ã ã¨æ€ã‚ãªã„ï¼Ÿã€- Ryan Florence

![ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³](/images/remix3-introduction/race-condition-problem.png)
*å›³: é€£ç¶šã—ã¦é¸æŠã‚’å¤‰æ›´ã—ãŸå ´åˆã®å•é¡Œ*

## Remix 3 ã®è¨­è¨ˆæ€æƒ³

### æŠ½è±¡åŒ–ã¯æœ€å°é™ã«

> ã€ŒæŠ½è±¡åŒ–ã¯ã€æœ¬å½“ã«å¿…è¦ã ã¨æ„Ÿã˜ã‚‹ã¾ã§å°å…¥ã—ãªã„ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯å‹å®‰å…¨æ€§ã¨åˆæˆã®ãŸã‚ã«å¿…è¦ã ã£ãŸã€‚ã§ã‚‚ã€ä»–ã®éƒ¨åˆ†ã¯ï¼Ÿã€- Ryan Florence

Remix 3 ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ç‰¹åˆ¥ãªçŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã¾ã›ã‚“ï¼š

```javascript
let bpm = 60; // ãŸã ã®å¤‰æ•°
```

æ›´æ–°ã‚‚æ˜ç¤ºçš„ï¼š

```javascript
this.update(); // ã“ã‚Œã ã‘
```

### Web æ¨™æº–ã‚’æœ€å¤§é™æ´»ç”¨

- `EventTarget` ã¨ `CustomEvent`
- `AbortController` ã¨ `signal`
- `PointerEvent` ã§ãƒã‚¦ã‚¹ãƒ»ã‚¿ãƒƒãƒãƒ»ãƒšãƒ³ã‚’çµ±ä¸€
- DOM API ã‚’ãã®ã¾ã¾åˆ©ç”¨

### TypeScript ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®é–‹ç™ºä½“é¨“

> ã€ŒRemix 1 ã¨ 2 ã§ã¯ TypeScript ã¯ã‚µã‚¤ãƒ‰ã‚¯ã‚¨ã‚¹ãƒˆã¿ãŸã„ãªã‚‚ã®ã ã£ãŸã€‚ã§ã‚‚ä»Šã¯ã€TypeScript ãŒé–‹ç™ºä½“é¨“ã®ä¸­å¿ƒã ã€- Michael Jackson

ã™ã¹ã¦ã® API ãŒå‹å®‰å…¨ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- ã‚¤ãƒ™ãƒ³ãƒˆã® detail å‹
- Context ã®å‹æ¨è«–
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® props å‹

### LLM ã§ç”Ÿæˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰

Ryan ã¯ã€AI ãŒ Drummer ã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã—ãŸã“ã¨ã‚’ä½•åº¦ã‚‚å¼·èª¿ã—ã¾ã™ã€‚Remix 3 ã®ã‚³ãƒ¼ãƒ‰ã¯ï¼š

- ã‚·ãƒ³ãƒ—ãƒ«ã§äºˆæ¸¬å¯èƒ½
- ç‰¹æ®Šãªè¦å‰‡ãŒå°‘ãªã„
- Web æ¨™æº–ã«åŸºã¥ã„ã¦ã„ã‚‹

ãã®ãŸã‚ã€LLM ãŒç†è§£ãƒ»ç”Ÿæˆã—ã‚„ã™ã„ã®ã§ã™ã€‚

## React Router ã¯ç¶™ç¶šã•ã‚Œã‚‹

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:19:04~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=11944s)

é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š

- **React Router ã¯ç¶™ç¶šã•ã‚Œã¾ã™**
- Shopify ãªã©å¤šãã®ä¼æ¥­ãŒ React Router ã«ä¾å­˜
- Remix ãƒãƒ¼ãƒ ãŒ React Router V7 ã‚’é–‹ç™ºä¸­
- Remix 3 ã¯åˆ¥ã®é¸æŠè‚¢ã¨ã—ã¦æä¾›

> ã€ŒReact Router ã¯ã©ã“ã«ã‚‚è¡Œã‹ãªã„ã€‚ãã‚Œã ã‘ã¯æ˜ç¢ºã«ã—ã¦ãŠããŸã„ã€- Ryan Florence

## ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

> ğŸ’¡ [å‹•ç”»ã§ç¢ºèªã™ã‚‹ (3:40:32~)](https://www.youtube.com/watch?v=xt_iEOn2a6Y&t=13232s)

- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ®µéš**
- ãƒ–ãƒ­ã‚°æŠ•ç¨¿ã®3ãƒ¶æœˆå¾Œã«é–‹ç™ºé–‹å§‹
- å€‹åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ä¸­ï¼ˆ`@remix/events`ã€`@remix/ui` ãªã©ï¼‰
- æœ€çµ‚çš„ã«ã¯çµ±åˆã•ã‚ŒãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦æä¾›äºˆå®š
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚é–‹ç™ºä¸­**ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ãªã©ï¼‰

![ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª](/images/remix3-introduction/component-library.png)
*å›³: Remix UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼*

## ã¾ã¨ã‚

Remix 3 ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®è¤‡é›‘ã•ã«å¯¾ã™ã‚‹ã‚¢ãƒ³ãƒãƒ†ãƒ¼ã‚¼ã§ã™ã€‚

**ä¸»è¦ãªç‰¹å¾´ï¼š**

1. **Setup Scope**: JavaScript ã®ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’æ´»ç”¨ã—ãŸçŠ¶æ…‹ç®¡ç†
2. **Remix Events**: ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç¬¬ä¸€ç´šå¸‚æ°‘ã¨ã—ã¦æ‰±ã†
3. **æ˜ç¤ºçš„ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: `this.update()` ã§åˆ¶å¾¡
4. **å‹å®‰å…¨ãª Context API**: å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å¼•ãèµ·ã“ã•ãªã„
5. **Signal ã«ã‚ˆã‚‹éåŒæœŸç®¡ç†**: ãƒ¬ãƒ¼ã‚¹ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«è§£æ±º
6. **Web æ¨™æº–ãƒ™ãƒ¼ã‚¹**: ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¸ã®ä¾å­˜ã‚’æœ€å°åŒ–
7. **TypeScript ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ã™ã¹ã¦ã® API ãŒå‹å®‰å…¨
8. **AI ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼**: LLM ãŒç†è§£ãƒ»ç”Ÿæˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰

**Ryan ã¨ Michael ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š**

> ã€Œ3ãƒ¶æœˆé–“ã€æ—¥ã®å…‰ã‚’è¦‹ã¦ã„ãªã„ã€‚ã§ã‚‚ã€ã“ã‚Œã¯ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã€‚åƒ•ã‚‰ã¯æ­£ã—ã„å±±ã‚’è¦‹ã¤ã‘ãŸã¨æ€ã†ã€- Ryan Florence

Remix 3 ã¯ã€Web é–‹ç™ºã®æœªæ¥ã‚’å†å®šç¾©ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã•ã€Web æ¨™æº–ã€å‹å®‰å…¨æ€§ã€ãã—ã¦ AI ã¨ã®è¦ªå’Œæ€§ã€‚ã“ã‚Œã‚‰ã™ã¹ã¦ã‚’å…¼ã­å‚™ãˆãŸæ–°ã—ã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ç™»å ´ã‚’ã€æœŸå¾…ã—ã¦å¾…ã¡ã¾ã—ã‚‡ã†ã€‚

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [Remix å…¬å¼ã‚µã‚¤ãƒˆ](https://remix.run/)
- [React Router](https://reactrouter.com/)
- [Remix Jam 2025 ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»](https://www.youtube.com/watch?v=xt_iEOn2a6Y)

---

ã“ã®è¨˜äº‹ãŒå½¹ã«ç«‹ã£ãŸã‚‰ã€ãœã²å®Ÿéš›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã‚‚ã”è¦§ãã ã•ã„ã€‚Ryan ã®ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨è»½å¦™ãªãƒˆãƒ¼ã‚¯ã¯ã€æ–‡å­—ã§ã¯ä¼ãˆãã‚Œãªã„é­…åŠ›ãŒã‚ã‚Šã¾ã™ï¼
